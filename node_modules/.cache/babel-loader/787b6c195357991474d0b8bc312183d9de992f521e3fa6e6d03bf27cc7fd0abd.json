{"ast":null,"code":"import{useEffect,useState}from'react';import Nav from'../Nav.js';import Menu from'../Menu.js';import SavedCard from'./SavedCard.js';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Saved(_ref){let{userId}=_ref;const[isMenuOpen,setIsMenuOpen]=useState(false);const[favoriteArtworks,setFavoriteArtworks]=useState([]);const[currentPage,setCurrentPage]=useState(1);// Pagination: Current page\nconst itemsPerPage=10;// Number of items per page\nconst navigate=useNavigate();const toggleMenu=()=>{setIsMenuOpen(!isMenuOpen);};const fetchFavArtworks=async userId=>{try{const response=await fetch(`http://localhost:8000/api/users/${userId}/fav-artworks`);if(!response.ok){throw new Error('Failed to load favorite artworks');}const favArtworks=await response.json();console.log('Favorite Artworks:',favArtworks);// Update your state or display the data\nsetFavoriteArtworks(favArtworks);}catch(error){console.error('Error fetching favorite artworks:',error);}};// Call this function in a useEffect or on a button click\nuseEffect(()=>{if(userId){fetchFavArtworks(userId);}},[userId]);// Pagination Logic\nconst totalPages=Math.ceil(favoriteArtworks.length/itemsPerPage);const paginatedArtworks=favoriteArtworks.slice((currentPage-1)*itemsPerPage,currentPage*itemsPerPage);const goToNextPage=()=>{if(currentPage<totalPages){setCurrentPage(currentPage+1);}};const goToPreviousPage=()=>{if(currentPage>1){setCurrentPage(currentPage-1);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{onMenuToggle:toggleMenu}),isMenuOpen&&/*#__PURE__*/_jsx(Menu,{userId:userId,onMenuToggle:toggleMenu}),/*#__PURE__*/_jsxs(\"div\",{className:\"saved-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"saved-header\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Home / Saved\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Here are \",/*#__PURE__*/_jsx(\"span\",{children:\"artworks\"}),\" that caught your eye \\u2728\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[favoriteArtworks.length,\" saved\"]})]}),favoriteArtworks.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"saved-none\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\uD83E\\uDDD0\"}),/*#__PURE__*/_jsx(\"div\",{children:\"You don\\u2019t have any saved artworks yet.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"To start building your personal collection, \",/*#__PURE__*/_jsx(\"br\",{}),\"explore artworks on the Home page or check out the Recommend page!\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"home_btn form_btn\",onClick:()=>navigate(\"/list\"),children:\"Go to Home page\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"saved-list\",children:paginatedArtworks.map((artwork,index)=>/*#__PURE__*/_jsx(SavedCard,{userId:userId,objectId:artwork.object_id,objectName:artwork.object_name,objectUrl:artwork.object_url,objectArtistName:artwork.object_artistName,objectyear:artwork.object_year},index))}),favoriteArtworks.length>itemsPerPage&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"prevBtn form_btn\",onClick:goToPreviousPage,disabled:currentPage===1,children:[/*#__PURE__*/_jsx(\"img\",{src:\"img/nextArrow.svg\",alt:\"left arrow\"}),\" Before\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"nextBtn form_btn\",onClick:goToNextPage,disabled:currentPage===totalPages,children:[\"Next \",/*#__PURE__*/_jsx(\"img\",{src:\"img/nextArrow.svg\",alt:\"right arrow\"})]})]})]})]});}export default Saved;","map":{"version":3,"names":["useEffect","useState","Nav","Menu","SavedCard","useNavigate","jsx","_jsx","jsxs","_jsxs","Saved","_ref","userId","isMenuOpen","setIsMenuOpen","favoriteArtworks","setFavoriteArtworks","currentPage","setCurrentPage","itemsPerPage","navigate","toggleMenu","fetchFavArtworks","response","fetch","ok","Error","favArtworks","json","console","log","error","totalPages","Math","ceil","length","paginatedArtworks","slice","goToNextPage","goToPreviousPage","children","onMenuToggle","className","onClick","map","artwork","index","objectId","object_id","objectName","object_name","objectUrl","object_url","objectArtistName","object_artistName","objectyear","object_year","disabled","src","alt"],"sources":["/Users/yoonsoo/Documents/dev/artbook/src/saved/Saved.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport Nav from '../Nav.js';\nimport Menu from '../Menu.js';\nimport SavedCard from './SavedCard.js';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Saved({ userId }) {\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    const [favoriteArtworks, setFavoriteArtworks] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1); // Pagination: Current page\n    const itemsPerPage = 10; // Number of items per page\n\n    const navigate = useNavigate();\n\n    const toggleMenu = () => {\n        setIsMenuOpen(!isMenuOpen);\n    };\n\n    const fetchFavArtworks = async (userId) => {\n        try {\n            const response = await fetch(`http://localhost:8000/api/users/${userId}/fav-artworks`);\n    \n            if (!response.ok) {\n                throw new Error('Failed to load favorite artworks');\n            }\n    \n            const favArtworks = await response.json();\n            console.log('Favorite Artworks:', favArtworks);\n\n            // Update your state or display the data\n            setFavoriteArtworks(favArtworks);\n        } catch (error) {\n            console.error('Error fetching favorite artworks:', error);\n        }\n    };\n    \n    // Call this function in a useEffect or on a button click\n    useEffect(() => {\n        if (userId) {\n            fetchFavArtworks(userId);\n        }\n    }, [userId]);\n\n    // Pagination Logic\n    const totalPages = Math.ceil(favoriteArtworks.length / itemsPerPage);\n    const paginatedArtworks = favoriteArtworks.slice(\n        (currentPage - 1) * itemsPerPage,\n        currentPage * itemsPerPage\n    );\n\n    const goToNextPage = () => {\n        if (currentPage < totalPages) {\n            setCurrentPage(currentPage + 1);\n        }\n    };\n\n    const goToPreviousPage = () => {\n        if (currentPage > 1) {\n            setCurrentPage(currentPage - 1);\n        }\n    };\n    \n    return(\n        <div>\n            <Nav onMenuToggle={toggleMenu} />\n            {isMenuOpen && <Menu userId={userId} onMenuToggle={toggleMenu}  />}\n            \n            <div className=\"saved-wrapper\">\n                <div className=\"saved-header\">\n                    <div>Home / Saved</div>\n                    <div>Here are <span>artworks</span> that caught your eye ‚ú®</div>\n                    <div>{favoriteArtworks.length} saved</div>\n                </div>\n\n                {favoriteArtworks.length === 0 ? (\n                    <div className=\"saved-none\">\n                        <div>üßê</div>\n                        <div>You don‚Äôt have any saved artworks yet.</div>\n                        <div>To start building your personal collection, <br />\n                        explore artworks on the Home page or check out the Recommend page!</div>\n                        <button className=\"home_btn form_btn\" onClick={() => navigate(\"/list\")}>Go to Home page</button>\n                    </div>\n                ) : (\n                    <div className=\"saved-list\">\n                        {paginatedArtworks.map((artwork, index) => (\n                            <SavedCard \n                                key={index} \n                                userId={userId}\n                                objectId={artwork.object_id}\n                                objectName={artwork.object_name}\n                                objectUrl={artwork.object_url} \n                                objectArtistName={artwork.object_artistName} \n                                objectyear={artwork.object_year}  />\n                        ))}\n                    </div>\n                )}\n\n                {favoriteArtworks.length > itemsPerPage && (\n                    <div className=\"pagination\">\n                        <button \n                            className=\"prevBtn form_btn\" \n                            onClick={goToPreviousPage} \n                            disabled={currentPage === 1}\n                        >\n                            <img src=\"img/nextArrow.svg\" alt=\"left arrow\" /> Before \n                        </button>\n                        <button \n                            className=\"nextBtn form_btn\" \n                            onClick={goToNextPage} \n                            disabled={currentPage === totalPages}\n                        >\n                            Next <img src=\"img/nextArrow.svg\" alt=\"right arrow\" />\n                        </button>\n                    </div>\n                )}\n\n                \n            </div>\n        </div>\n    );\n}\n\nexport default Saved;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}