{"ast":null,"code":"import{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SignIn(_ref){let{setUserId}=_ref;const navigate=useNavigate();const[nickname,setNickname]=useState(\"\");const[nicknameError,setNicknameError]=useState(\"\");const[hasChecked,setHasChecked]=useState(false);const handleSignIn=async()=>{if(!nickname.trim()){setNicknameError(\"Nickname is required.\");return;}try{const response=await fetch('/api/users/get-id',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({nickname})});if(response.ok){const user=await response.json();setUserId(user._id);navigate('/list');}else{const errorData=await response.json();setNicknameError(errorData.message||\"Sorry, that username does not exist!\");}}catch(error){setNicknameError(\"Failed to sign in. Please try again.\");}setHasChecked(true);};const handleNicknameChange=e=>{setNickname(e.target.value);setNicknameError(\"\");setHasChecked(false);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"signInBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftBox\",children:/*#__PURE__*/_jsx(\"img\",{src:\"img/fisrtpage.svg\",alt:\"animation\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightBox first_right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bigEmo\",children:\"\\uD83D\\uDE4C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"top signIn_top\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Sign in Here!\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Welcome back to ARTBOOK\"})]}),/*#__PURE__*/_jsx(\"fieldset\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"signIn_bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`name_input ${nicknameError?\"error_state\":\"\"}`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nickname,placeholder:\"Username\",onChange:handleNicknameChange}),/*#__PURE__*/_jsx(\"img\",{src:\"img/name.svg\",alt:\"name\",className:\"nameImg\"}),nicknameError&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:nicknameError}),hasChecked&&/*#__PURE__*/_jsx(\"img\",{src:\"img/error.svg\",alt:\"error\",className:\"errorImg\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"signInBtn\",onClick:handleSignIn,children:\"Sign in\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"goToSignUp\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>navigate(\"/sign-up\"),children:\"Sign up\"})]})]})]})});}export default SignIn;","map":{"version":3,"names":["useState","useNavigate","jsx","_jsx","jsxs","_jsxs","SignIn","_ref","setUserId","navigate","nickname","setNickname","nicknameError","setNicknameError","hasChecked","setHasChecked","handleSignIn","trim","response","fetch","method","headers","body","JSON","stringify","ok","user","json","_id","errorData","message","error","handleNicknameChange","e","target","value","children","className","src","alt","type","placeholder","onChange","onClick"],"sources":["/Users/yoonsoo/Documents/dev/artbook/src/SignIn.js"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nfunction SignIn({ setUserId }) {\n    const navigate = useNavigate();\n\n    const [nickname, setNickname] = useState(\"\");\n    const [nicknameError, setNicknameError] = useState(\"\");\n    const [hasChecked, setHasChecked] = useState(false);\n\n    const handleSignIn = async () => {\n        if (!nickname.trim()) {\n            setNicknameError(\"Nickname is required.\");\n            return;\n        }\n\n        try {\n            const response = await fetch('/api/users/get-id', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ nickname }),\n            });\n\n            if (response.ok) {\n                const user = await response.json();\n                setUserId(user._id); \n                navigate('/list'); \n            } else {\n                const errorData = await response.json();\n                setNicknameError(errorData.message || \"Sorry, that username does not exist!\");\n            }\n        } catch (error) {\n            setNicknameError(\"Failed to sign in. Please try again.\");\n        }\n\n        setHasChecked(true);\n    };\n\n    const handleNicknameChange = (e) => {\n        setNickname(e.target.value);\n        setNicknameError(\"\"); \n        setHasChecked(false); \n    };\n\n    return (\n        <div>\n            <div className=\"signInBox\">\n                <div className=\"leftBox\">\n                    <img src=\"img/fisrtpage.svg\" alt=\"animation\" />\n                </div>\n                <div className=\"rightBox first_right\">\n                    <div className=\"bigEmo\">ðŸ™Œ</div>\n                    <div className=\"top signIn_top\">\n                        <div>Sign in Here!</div>\n                        <div>Welcome back to ARTBOOK</div>\n                    </div>\n                    <fieldset>\n                        <div className=\"signIn_bottom\">\n                            <div className={`name_input ${nicknameError ? \"error_state\" : \"\"}`}>\n                                <input type=\"text\" value={nickname} placeholder=\"Username\" onChange={handleNicknameChange} />\n                                <img src=\"img/name.svg\" alt=\"name\" className=\"nameImg\"  />\n                                {nicknameError && <div className=\"error\">{nicknameError}</div>}\n                            {hasChecked && ( \n                                <img\n                                    src=\"img/error.svg\"\n                                    alt=\"error\"\n                                    className=\"errorImg\"\n                                />\n                                )}\n                            </div>  \n                            <button className=\"signInBtn\" onClick={handleSignIn}>Sign in</button>\n                        </div>\n                    </fieldset>\n                    <div className=\"goToSignUp\">\n                        <div>Don't have an account?</div>\n                        <div onClick={() => navigate(\"/sign-up\")}>Sign up</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      );\n}\n\nexport default SignIn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}