{"ast":null,"code":"import{useEffect,useState}from'react';import Nav from'../Nav.js';import Menu from'../Menu.js';import{useNavigate}from'react-router-dom';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Saved(_ref){let{userId}=_ref;const[userPhoto,setUserPhoto]=useState('');const[userName,setUserName]=useState('');const[isMenuOpen,setIsMenuOpen]=useState(false);const[isOpenDelete,setIsOpenDelete]=useState(false);const[alert,setAlert]=useState(\"‚ö†Ô∏è\");const[alarm,setAlarm]=useState(\"Delete your account?\");const[explanation,setExplanation]=useState(/*#__PURE__*/_jsxs(_Fragment,{children:[\"This action is permanent and cannot be undone.\",/*#__PURE__*/_jsx(\"br\",{}),\"You will immediately lose your access to all your account and data.\"]}));const[isDeleteButtonsVisible,setIsDeleteButtonsVisible]=useState(true);const navigate=useNavigate();const toggleMenu=()=>{setIsMenuOpen(!isMenuOpen);};const toggleDelete=()=>{setIsOpenDelete(!isOpenDelete);};const deleteUser=async userId=>{try{const response=await fetch(`http://localhost:8000/api/users/${userId}`,{method:\"DELETE\"});// Pass the endpoint string to fetch\nconst result=await response.json();console.log(result,\"Deleted!\");}catch(error){console.log(error);}};const deletedUser=async userId=>{deleteUser(userId);setAlert(\"üëã\");setAlarm(\"Success!\");setExplanation(/*#__PURE__*/_jsxs(_Fragment,{children:[\"Your account was successfully deleted. \",/*#__PURE__*/_jsx(\"br\",{}),\"Thank you for using it!\"]}));setIsDeleteButtonsVisible(false);setTimeout(()=>{navigate(\"/\");},2000);};useEffect(()=>{const getUsers=async()=>{try{const response=await fetch(`http://localhost:8000/api/users/${userId}`);const user=await response.json();setUserPhoto(user.emojis);setUserName(user.nickname);}catch(error){console.log(error);}};if(userId){getUsers();}},[userId]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{onMenuToggle:toggleMenu}),isMenuOpen&&/*#__PURE__*/_jsx(Menu,{userId:userId,onMenuToggle:toggleMenu}),/*#__PURE__*/_jsxs(\"div\",{className:\"saved-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"saved-header\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Home / Profile\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Hi, \",userName,\" \\uD83D\\uDC4B\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-deleteEdit\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-profile\",children:\"My profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"showEmoji\",children:/*#__PURE__*/_jsx(\"div\",{children:userPhoto})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile_input name_input\",children:[/*#__PURE__*/_jsx(\"div\",{children:userName}),/*#__PURE__*/_jsx(\"img\",{src:\"img/name.svg\",alt:\"name\"})]}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"profile_btns\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile_btn delete_btn\",onClick:()=>toggleDelete(),children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile_btn edit_btn\",children:\"Edit\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"analystic\",src:\"img/analystic.svg\",alt:\"analystic\"}),/*#__PURE__*/_jsx(\"img\",{src:\"img/mappie.svg\",alt:\"mappie\"})]}),isOpenDelete&&/*#__PURE__*/_jsxs(\"div\",{className:\"delete_box\",children:[/*#__PURE__*/_jsx(\"div\",{children:alert}),/*#__PURE__*/_jsx(\"div\",{children:alarm}),/*#__PURE__*/_jsx(\"div\",{children:explanation}),isDeleteButtonsVisible&&/*#__PURE__*/_jsxs(\"fieldset\",{className:\"profile_btns\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile_btn delete_btn\",onClick:toggleDelete,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile_btn edit_btn\",onClick:()=>deletedUser(userId),children:\"Yes, Delete\"})]})]}),isOpenDelete&&/*#__PURE__*/_jsx(\"div\",{className:\"bc_blur\"})]})]})]});}export default Saved;","map":{"version":3,"names":["useEffect","useState","Nav","Menu","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Saved","_ref","userId","userPhoto","setUserPhoto","userName","setUserName","isMenuOpen","setIsMenuOpen","isOpenDelete","setIsOpenDelete","alert","setAlert","alarm","setAlarm","explanation","setExplanation","children","isDeleteButtonsVisible","setIsDeleteButtonsVisible","navigate","toggleMenu","toggleDelete","deleteUser","response","fetch","method","result","json","console","log","error","deletedUser","setTimeout","getUsers","user","emojis","nickname","onMenuToggle","className","src","alt","onClick"],"sources":["/Users/yoonsoo/Documents/dev/artbook/src/account/Account.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport Nav from '../Nav.js';\nimport Menu from '../Menu.js';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Saved({ userId }) {\n    const [userPhoto, setUserPhoto] = useState('');\n    const [userName, setUserName] = useState('');\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n    const [isOpenDelete, setIsOpenDelete] = useState(false);\n    const [alert, setAlert] = useState(\"‚ö†Ô∏è\");\n    const [alarm, setAlarm] = useState(\"Delete your account?\");\n    const [explanation, setExplanation] = useState(<>\n        This action is permanent and cannot be undone.<br />\n        You will immediately lose your access to all your account and data.\n    </>);\n    const [isDeleteButtonsVisible, setIsDeleteButtonsVisible] = useState(true);\n\n    const navigate = useNavigate();\n\n    const toggleMenu = () => {\n        setIsMenuOpen(!isMenuOpen);\n    };\n\n    const toggleDelete = () => {\n        setIsOpenDelete(!isOpenDelete);\n    }\n\n    const deleteUser = async (userId) => {\n          try {\n            const response = await fetch(`http://localhost:8000/api/users/${userId}`, {method: \"DELETE\"}); // Pass the endpoint string to fetch\n            const result = await response.json();\n            console.log(result, \"Deleted!\");\n        } catch (error) {\n            console.log(error);\n        }\n      };\n\n    const deletedUser = async (userId) => {\n        deleteUser(userId);\n        setAlert(\"üëã\");\n        setAlarm(\"Success!\");\n        setExplanation(<>Your account was successfully deleted. <br />\n            Thank you for using it!</>);\n        setIsDeleteButtonsVisible(false);\n        setTimeout(() => {\n            navigate(\"/\");\n        }, 2000);\n    };\n\n    useEffect(() => {\n        const getUsers = async () => {\n            try {\n                const response = await fetch(`http://localhost:8000/api/users/${userId}`);\n                const user = await response.json();\n                setUserPhoto(user.emojis);\n                setUserName(user.nickname);\n            } catch (error) {\n                console.log(error);\n            }\n        };\n        \n        if (userId) {\n            getUsers();\n        }\n    }, [userId]);\n    \n    return(\n        <div>\n            <Nav onMenuToggle={toggleMenu} />\n            {isMenuOpen && <Menu userId={userId} onMenuToggle={toggleMenu}  />}\n            \n            <div className=\"saved-wrapper\">\n                <div className=\"saved-header\">\n                    <div>Home / Profile</div>\n                    <div>Hi, {userName} üëã</div>\n                </div>\n\n                <div className=\"profile-box\">\n                    <div className=\"profile-deleteEdit\">\n                        <div className=\"profile-profile\">My profile</div>\n                        <div className=\"showEmoji\"><div>{userPhoto}</div></div>\n                        <div className=\"profile_input name_input\">\n                            <div>{userName}</div>\n                            <img src=\"img/name.svg\" alt=\"name\" />\n                        </div>\n                        <fieldset className=\"profile_btns\">\n                            <button className=\"profile_btn delete_btn\" onClick={() => toggleDelete()}>Delete</button>\n                            <button className=\"profile_btn edit_btn\">Edit</button>\n                        </fieldset>\n                    </div>\n\n                    <div>\n                        <img className=\"analystic\" src=\"img/analystic.svg\" alt=\"analystic\" />\n                        <img src=\"img/mappie.svg\" alt=\"mappie\" />\n                    </div>\n\n                    {isOpenDelete && <div className=\"delete_box\">\n                        <div>{alert}</div> \n                        <div>{alarm}</div>\n                        <div>{explanation}</div>\n                        {isDeleteButtonsVisible && (\n                            <fieldset className=\"profile_btns\">\n                                <button className=\"profile_btn delete_btn\" onClick={toggleDelete}>Cancel</button>\n                                <button className=\"profile_btn edit_btn\" onClick={() => deletedUser(userId)}>Yes, Delete</button>\n                            </fieldset>\n                        )}\n                    </div>}\n\n                    {isOpenDelete && <div className=\"bc_blur\"></div>}\n\n                </div>\n\n            </div>\n        </div>\n    );\n}\n\nexport default Saved;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}