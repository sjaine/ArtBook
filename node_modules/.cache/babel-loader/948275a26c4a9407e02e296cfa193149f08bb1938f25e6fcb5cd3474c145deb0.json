{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SignInPage3(_ref){let{formData,submitForm,setUserId}=_ref;const navigate=useNavigate();// https://stackoverflow.com/questions/16025138/call-two-functions-from-same-onclick\nconst submitGoNext=async event=>{event.preventDefault();await submitForm();console.log(\"submitGoNext result: \"+event);try{const response=await fetch(`http://localhost:8000/api/users/get-id`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({nickname:formData.nickname})});const data=await response.json();console.log(data);if(response.ok){// console.log(\"Navigating to /list with userId:\", data._id);\nsetUserId(data._id);// navigate(\"/list\", { state: { userId: data._id } });\nnavigate(\"/list\");}else{console.error(data.message||\"Failed to fetch user ID\");}}catch(error){console.log(error);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"signInBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"leftBox\",children:/*#__PURE__*/_jsx(\"img\",{src:\"img/fisrtpage.svg\",alt:\"animation\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"rightBox\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"signInForm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"progressBar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress_three\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"body_text\",children:[\"Welcome, \",formData.nickname,\"!\"]})]}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"signIn_page3\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\uD83E\\uDD73\"}),/*#__PURE__*/_jsx(\"div\",{children:\"You\\u2019re all set!\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Your account has been created.\"})]}),/*#__PURE__*/_jsx(\"fieldset\",{className:\"btns btns_page3\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nextBtn form_btn\",onClick:submitGoNext,children:\"Done\"})})]})})]})});}export default SignInPage3;","map":{"version":3,"names":["React","useNavigate","jsx","_jsx","jsxs","_jsxs","SignInPage3","_ref","formData","submitForm","setUserId","navigate","submitGoNext","event","preventDefault","console","log","response","fetch","method","headers","body","JSON","stringify","nickname","data","json","ok","_id","error","message","children","className","src","alt","onClick"],"sources":["/Users/yoonsoo/Documents/dev/artbook/src/signInForm/SignInPage3.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nfunction SignInPage3({ formData, submitForm, setUserId }) {\n    const navigate = useNavigate();\n\n    // https://stackoverflow.com/questions/16025138/call-two-functions-from-same-onclick\n    const submitGoNext = async (event) => {\n        event.preventDefault();\n        await submitForm(); \n\n        console.log(\"submitGoNext result: \" + event);\n        \n        try {\n            const response = await fetch(`http://localhost:8000/api/users/get-id`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ nickname: formData.nickname }),\n            });\n\n            const data = await response.json();\n            console.log(data);\n\n            if (response.ok) {\n                // console.log(\"Navigating to /list with userId:\", data._id);\n                setUserId(data._id);\n                // navigate(\"/list\", { state: { userId: data._id } });\n                navigate(\"/list\");\n            } else {\n                console.error(data.message || \"Failed to fetch user ID\");\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    return (\n        <div>\n            <div className=\"signInBox\">\n                <div className=\"leftBox\">\n                    <img src=\"img/fisrtpage.svg\" alt=\"animation\" />\n                </div>\n                <div className=\"rightBox\">\n                    <form className=\"signInForm\">\n                        <div>\n                            <div className=\"progressBar\">\n                                <div className=\"progress_three\"></div>\n                            </div>\n                            <div className=\"body_text\">Welcome, {formData.nickname}!</div>\n                        </div>\n\n                        <fieldset className=\"signIn_page3\">\n                            <div>ðŸ¥³</div>\n                            <div>Youâ€™re all set!</div>\n                            <div>Your account has been created.</div>\n                        </fieldset>\n\n                        <fieldset className=\"btns btns_page3\">\n                            <button className=\"nextBtn form_btn\" onClick={submitGoNext}>Done</button>\n                        </fieldset>\n                        \n                    </form>\n                </div>\n            </div>\n        </div>\n      );\n}\n\nexport default SignInPage3;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAAsC,IAArC,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,SAAU,CAAC,CAAAH,IAAA,CACpD,KAAM,CAAAI,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CAClCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,KAAM,CAAAL,UAAU,CAAC,CAAC,CAElBM,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAGH,KAAK,CAAC,CAE5C,GAAI,CACA,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,wCAAwC,CAAE,CACvEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,QAAQ,CAAEhB,QAAQ,CAACgB,QAAS,CAAC,CACpD,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClCX,OAAO,CAACC,GAAG,CAACS,IAAI,CAAC,CAEjB,GAAIR,QAAQ,CAACU,EAAE,CAAE,CACb;AACAjB,SAAS,CAACe,IAAI,CAACG,GAAG,CAAC,CACnB;AACAjB,QAAQ,CAAC,OAAO,CAAC,CACrB,CAAC,IAAM,CACHI,OAAO,CAACc,KAAK,CAACJ,IAAI,CAACK,OAAO,EAAI,yBAAyB,CAAC,CAC5D,CACJ,CAAE,MAAOD,KAAK,CAAE,CACZd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC,CACtB,CACJ,CAAC,CAED,mBACI1B,IAAA,QAAA4B,QAAA,cACI1B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtB5B,IAAA,QAAK6B,SAAS,CAAC,SAAS,CAAAD,QAAA,cACpB5B,IAAA,QAAK8B,GAAG,CAAC,mBAAmB,CAACC,GAAG,CAAC,WAAW,CAAE,CAAC,CAC9C,CAAC,cACN/B,IAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAD,QAAA,cACrB1B,KAAA,SAAM2B,SAAS,CAAC,YAAY,CAAAD,QAAA,eACxB1B,KAAA,QAAA0B,QAAA,eACI5B,IAAA,QAAK6B,SAAS,CAAC,aAAa,CAAAD,QAAA,cACxB5B,IAAA,QAAK6B,SAAS,CAAC,gBAAgB,CAAM,CAAC,CACrC,CAAC,cACN3B,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAD,QAAA,EAAC,WAAS,CAACvB,QAAQ,CAACgB,QAAQ,CAAC,GAAC,EAAK,CAAC,EAC7D,CAAC,cAENnB,KAAA,aAAU2B,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC9B5B,IAAA,QAAA4B,QAAA,CAAK,cAAE,CAAK,CAAC,cACb5B,IAAA,QAAA4B,QAAA,CAAK,sBAAe,CAAK,CAAC,cAC1B5B,IAAA,QAAA4B,QAAA,CAAK,gCAA8B,CAAK,CAAC,EACnC,CAAC,cAEX5B,IAAA,aAAU6B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cACjC5B,IAAA,WAAQ6B,SAAS,CAAC,kBAAkB,CAACG,OAAO,CAAEvB,YAAa,CAAAmB,QAAA,CAAC,MAAI,CAAQ,CAAC,CACnE,CAAC,EAET,CAAC,CACN,CAAC,EACL,CAAC,CACL,CAAC,CAEd,CAEA,cAAe,CAAAzB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}